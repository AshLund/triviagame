<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=IM+Fell+English+SC" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <title> Henry VIII Trivia Game </title>
</head>
<body>

    <header> 
   
    <h1> Henry VIII Trivia Game </h1>
    </header>

    

    <div id="container">

            <hr>
    <img id="henry" src="assets/images/Henry VIII.jpg" width="150" alt="Henry VIII"> 
    <div id="thanks"></div>
    <div id="timer"></div>    
    <div id="correct"></div>
    <div id="triviaQuestions"></div>
    <br>
        <div id="triviaQuestions2"></div>
        <br>
        <div id="answers"></div>

    <button id="start"> Start Game </button>
    <div id="play-again"></div>

    <hr>

</div>



    <script>
        //declare variables
        var correctAnswers=0;
        var incorrectAnswers=0;
        var timer=0;
    
        //make questions (object??)
        var questions = [
        {
            question: "What house did Henry VIII belong to?",
            answers: ["Lannister", "Windsor", "Tudor", "Hanover",],
            correct: "Tudor",
        },
        {
            question: "How many wives did Henry VIII have?",
            answers: ["Four", "Five", "Six", "Eight",],
            correct: "Six",
        },
        {
            question: "Henry VIII's older brother tragically died in 1503 at the age of 15. What was his name? ",
            answers: ["Arthur", "Edward", "Henry", "Charles",],
            correct: "Arthur",
        },
    {
        question: "Who was Henry VIII's first wife?",
            answers: ["Anne Boleyn", "Jane Seymour", "Catherine of Aragon", "Catherine Howard", ],
            correct: "Catherine of Aragon",
        },
    {
        question: "What happened to  Henry VIII's wife Anne Boleyn?",
            answers: ["Widowed", "Beheaded", "Divorced", "Died of Natural Causes",],
            correct: "Beheaded",
        },
    {
        question: "Which wife is Henry VIII buried next to?",
            answers: ["Anne Boleyn", "Jane Seymour", "Catherine of Aragon", "Anne of Cleves", ],
            correct: "Jane Seymour",
        },
    ]

var count=0;
var showTrivia=""
var number=10;
$("#start").click(startGame);


function startGame () {
    $(this).hide();
    $("#correct").text("Number Correct: ")
    showTrivia = setInterval(decrement, 1000);
    function decrement() {
    number--;
    $("#timer").html("<h2>" + "Time Left: " + number + "</h2>");
    if (number===0) {
        stop2()
    }
    }
    runGame();
}
$("#triviaQuestions2").on("click", function (event) {
    runGame ();
    event.preventDefault();
    console.log(event.target)
    var userGuess=event.target.textContent
    console.log(userGuess)
    for (var i =0; i< questions.length; i++) {
        if (userGuess===questions[i].correct) {
        console.log(questions[i].correct);
        correctAnswers=correctAnswers+1;
        console.log(correctAnswers)
        $("#correct").html("Number Correct: "+  + correctAnswers)
    }
    


}
    if (count===questions.length) {
        stop ();
        console.log(count)
        console.log(questions.length)
    }
    clearInterval(showTrivia);
    showTrivia = setInterval(decrement, 10000);
    number=10;
    function decrement() {
    number--;
    $("#timer").html("<h2>" + number + "</h2>");
    if (number===0) {
        stop2();
    }
    }
})

function displayAnswers() {
    var triviaDiv=$("#triviaQuestions2");
    var newAnswersDiv=$("<button>" + questions[count].answers.join("<button>") + "</button>");
    triviaDiv.html(newAnswersDiv);
    }
function displayQuestion() {
    var triviaDiv=$("#triviaQuestions");
    var newTriviaDiv=$("<div>" + questions[count].question + "</div>");
    triviaDiv.html(newTriviaDiv);
}
function displayAnswer() {
    var triviaDiv=$("#answers");
   var newAnswerDiv=$("<div>" + questions[count].correct + "</div>");
   console.log(newAnswerDiv)
    triviaDiv.html(newAnswerDiv);
}

function runGame () {
    showTrivia = setInterval(10000);
    console.log(setInterval)
    displayQuestion();
    displayAnswers();
    count=count + 1;
  
  }
  function stop () {
    $("#thanks").html("Game Over! Thank you for playing!")
    $("#triviaQuestions").empty();
    $("#triviaQuestions2").empty();
    var playDiv=$("#play-again")
    var playButton=$("<button class='click'>" + "Play Again" + "</button>")
    playDiv.html(playButton)
    }


    $(document).on("click", '.click', function () {
    count=0;
    $(this).hide();
    $("#correct").text("Number Correct: ")
    showTrivia = setInterval(decrement, 1000);
    function decrement() {
    number--;
    $("#timer").html("<h2>" + number + "</h2>");
    if (number===0) {
        stop2()
    }
    }
    showTrivia = setInterval(10000);
    console.log(setInterval)
    displayQuestion();
    displayAnswers();
    count=count + 1;
})
   
  
function stop2 () {
    clearInterval(showTrivia)
    displayQuestion();
    displayAnswers();
    number=10;
    count++;
}

function stopTimer (){ 
    clearInteval(showTrivia)
}

        
        </script>

<footer> <img id="footer" src="assets/images/tudor2.png" width= "100"> </footer>
        </body>
        </html>
